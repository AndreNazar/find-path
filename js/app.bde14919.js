(function(){"use strict";var t={2745:function(t,i,e){var s=e(5130),l=e(6768);const n={class:"container"},r={class:"content"},h=(0,l.Lk)("canvas",{class:"field"},null,-1),a={class:"status_bar"},o=(0,l.Lk)("p",{class:"heading"},"Информация",-1),c={class:"status_items"},u={class:"empty-text"};function f(t,i,e,f,p,d){const _=(0,l.g2)("status-item");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("div",r,[h,(0,l.Lk)("div",{class:"start_button",onClick:i[0]||(i[0]=i=>t.startButtonClick())},"Новый путь")]),(0,l.Lk)("div",a,[o,(0,l.Lk)("div",c,[(0,l.bF)(s.F,{name:"status_items"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.paths_status,(t=>((0,l.uX)(),(0,l.Wv)(_,{key:t.id,path:t},null,8,["path"])))),128))])),_:1})]),(0,l.bo)((0,l.Lk)("div",u,"Начните новый путь!",512),[[s.aG,!t.paths_status.length]])])])}e(4114);var p=e(4232);const d={class:"status_item"};function _(t,i,e,s,n,r){return(0,l.uX)(),(0,l.CE)("div",d,[(0,l.Lk)("p",null,"Путь №"+(0,p.v_)(e.path.id),1),(0,l.Lk)("p",null,"Шагов: "+(0,p.v_)(e.path.steps),1),(0,l.Lk)("p",null,"Время: "+(0,p.v_)(e.path.time)+"ms",1)])}var v={name:"StatusItem",props:{path:Object}},y=e(1241);const m=(0,y.A)(v,[["render",_]]);var x=m,g=(0,l.pM)({name:"App",components:{StatusItem:x},data(){return{field:[],paths:1,start_point:{x:0,y:0,wall:!1},end_point:{x:19,y:19,wall:!1},current_point:{x:0,y:0,wall:!1},paths_status:[],start_button_clicked:!1,size_cell:20,result:[],savetime:0,ctx:null,intervalTimer:null}},methods:{getNeighbours(t,i){let e=[];return this.field.length&&(t-1>=0&&e.push(this.field[20*(t-1)+i]),t+1<20&&e.push(this.field[20*(t+1)+i]),i-1>=0&&e.push(this.field[20*t+i-1]),i+1<20&&e.push(this.field[20*t+i+1])),e},async drawField(){for(let t=0;t<this.size_cell;t++)for(let i=0;i<this.size_cell;i++)this.field.push({x:t,y:i,wall:!1}),this.ctx.strokeRect(t*this.size_cell,i*this.size_cell,this.size_cell,this.size_cell)},async generateWalls(){for(let t=0;t<this.size_cell;t++)for(let i=0;i<this.size_cell;i++)this.field[t*this.size_cell+i].wall=!1,Math.random()>.95&&(this.field[t*this.size_cell+i].wall=!0),t*this.size_cell+i!==0&&t*this.size_cell+i!==399||(this.field[t*this.size_cell+i].wall=!1)},async updateField(){for(let t=0;t<this.size_cell;t++)for(let i=0;i<this.size_cell;i++)this.ctx.strokeRect(t*this.size_cell,i*this.size_cell,this.size_cell,this.size_cell),t===this.start_point.x&&i===this.start_point.y?this.ctx.fillStyle="#59dd58":t===this.end_point.x&&i===this.end_point.y?this.ctx.fillStyle="#dd5558":this.field[t*this.size_cell+i].wall?this.ctx.fillStyle="#292528":this.ctx.fillStyle="#dcdfd6",this.ctx.fillRect(t*this.size_cell,i*this.size_cell,this.size_cell,this.size_cell)},async findPath(){let t=this.getNeighbours(this.current_point.x,this.current_point.y),i=t.filter((t=>!t.wall&&t.x>=this.current_point.x&&t.y>=this.current_point.y)),e=t.filter((t=>!t.wall&&t.x<=this.current_point.x&&t.y<=this.current_point.y));const s=Math.floor(Math.random()*i.length),l=i.splice(s,1)[0];if(l){if(l.x===this.end_point.x&&l.y===this.end_point.y)return;this.result.push(l),this.current_point=l,this.findPath()}else{if(this.current_point.x===this.end_point.x-1&&this.current_point.y===this.end_point.y||this.current_point.x===this.end_point.x&&this.current_point.y===this.end_point.y-1)return;const t=Math.floor(Math.random()*e.length),i=e.splice(t,1)[0];this.result.push(i),this.current_point=i,this.findPath()}},async drawPath(){const t=Math.floor(255*Math.random()).toString(16),i=Math.floor(255*Math.random()).toString(16),e=Math.floor(255*Math.random()).toString(16);this.ctx.fillStyle="#"+(1===t.length?"0"+t:t)+(1===i.length?"0"+i:i)+(1===e.length?"0"+e:e)+"aa",await this.findPath();for(let s=0;s<this.result.length;s++){let t=setTimeout((()=>{this.ctx.fillRect(this.result[s].x*this.size_cell,this.result[s].y*this.size_cell,this.size_cell,this.size_cell),this.paths_status[0].steps++,clearTimeout(t),s===this.result.length-1&&(clearInterval(this.intervalTimer),this.savetime=0,this.start_button_clicked=!1,this.paths+=1)}),50*s)}},async startButtonClick(){this.start_button_clicked||(this.paths_status.unshift({id:this.paths_status.length+1,steps:0,time:0}),this.savetime=(new Date).getTime(),this.intervalTimer=setInterval((()=>{this.paths_status[0].time=(new Date).getTime()-this.savetime}),0),this.result=[],this.start_point={x:0,y:0,wall:!1},this.end_point={x:19,y:19,wall:!1},this.current_point={x:0,y:0,wall:!1},this.start_button_clicked=!0,await this.drawPath())}},async mounted(){const t=document.querySelector(".field");t.width=400,t.height=400,this.ctx=t.getContext("2d"),await this.drawField(),await this.generateWalls(),await this.updateField()}});const w=(0,y.A)(g,[["render",f]]);var z=w;(0,s.Ef)(z).mount("#app")}},i={};function e(s){var l=i[s];if(void 0!==l)return l.exports;var n=i[s]={exports:{}};return t[s].call(n.exports,n,n.exports,e),n.exports}e.m=t,function(){var t=[];e.O=function(i,s,l,n){if(!s){var r=1/0;for(c=0;c<t.length;c++){s=t[c][0],l=t[c][1],n=t[c][2];for(var h=!0,a=0;a<s.length;a++)(!1&n||r>=n)&&Object.keys(e.O).every((function(t){return e.O[t](s[a])}))?s.splice(a--,1):(h=!1,n<r&&(r=n));if(h){t.splice(c--,1);var o=l();void 0!==o&&(i=o)}}return i}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[s,l,n]}}(),function(){e.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(i,{a:i}),i}}(),function(){e.d=function(t,i){for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)}}(),function(){var t={524:0};e.O.j=function(i){return 0===t[i]};var i=function(i,s){var l,n,r=s[0],h=s[1],a=s[2],o=0;if(r.some((function(i){return 0!==t[i]}))){for(l in h)e.o(h,l)&&(e.m[l]=h[l]);if(a)var c=a(e)}for(i&&i(s);o<r.length;o++)n=r[o],e.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return e.O(c)},s=self["webpackChunkfind_path_vue_js2"]=self["webpackChunkfind_path_vue_js2"]||[];s.forEach(i.bind(null,0)),s.push=i.bind(null,s.push.bind(s))}();var s=e.O(void 0,[504],(function(){return e(2745)}));s=e.O(s)})();
//# sourceMappingURL=app.bde14919.js.map